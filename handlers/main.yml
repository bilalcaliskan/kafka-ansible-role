---

- name: force systemd to reread configs
  systemd:
    daemon_reload: true

- name: start and enable kafka service
  systemd:
    name: kafka
    state: started
    enabled: true
    daemon_reload: true

- name: create a symlink of kafka log directory
  file:
    src: "{{ link_path }}/logs"
    dest: "{{ log_path }}"
    owner: "{{ user }}"
    group: "{{ group }}"
    state: link
    force: true
